<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Job Matcher</title>
    <!-- PDF.js library -->
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/sass.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="#" class="navbar-brand">
                <i class="fas fa-file-alt"></i> CVMatch
            </a>
            <div class="navbar-links">
                <a href="#how-it-works" onclick="scrollToSection('how-it-works')">
                    <i class="fas fa-info-circle"></i> How It Works
                </a>
                <a href="#matchForm" onclick="scrollToSection('matchForm')">
                    <i class="fas fa-search"></i> Find Jobs
                </a>
                <a href="#cv-recommendations" onclick="scrollToSection('cv-recommendations')">
                    <i class="fas fa-lightbulb"></i> CV Tips
                </a>
                <a href="#about">
                    <i class="fas fa-question-circle"></i> About
                </a>
                <a href="#" id="logout-btn" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </div>
    </nav>

    <style>
        .logout-btn {
            background-color: #EF4444;
            color: white !important;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: bold;
            margin-left: 1rem;
        }
        
        .logout-btn:hover {
            background-color: #DC2626;
        }
    </style>

    <script>
        // Check if user is logged in
        document.addEventListener('DOMContentLoaded', function() {
            const userLoggedIn = localStorage.getItem('userLoggedIn');
            const token = localStorage.getItem('token');
            
            if (!userLoggedIn || !token) {
                window.location.href = '/login';
            }
            
            // Logout functionality
            document.getElementById('logout-btn').addEventListener('click', function(e) {
                e.preventDefault();
                
                // Clear localStorage
                localStorage.removeItem('userLoggedIn');
                localStorage.removeItem('userRole');
                localStorage.removeItem('userId');
                localStorage.removeItem('token');
                
                // Redirect to login page
                window.location.href = '/login';
            });
        });
    </script>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1>Find Your Perfect Job Match</h1>
            <p>Upload your CV and let our AI find the best job opportunities tailored to your skills and experience.</p>
            <a href="#matchForm" class="cta-button" onclick="scrollToSection('matchForm')">
                <i class="fas fa-rocket"></i> Get Started
            </a>
        </div>
    </section>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Steps Section -->
        <section class="steps-section" id="how-it-works">
            <div class="steps-container">
                <h2 class="section-title">How It Works</h2>
                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-icon">
                            <i class="fas fa-upload"></i>
                        </div>
                        <div class="step-number">1</div>
                        <div class="step-title">Upload Your CV</div>
                        <div class="step-description">Upload your CV in PDF format or paste your CV text directly into our system.</div>
                    </div>
                    <div class="step-card">
                        <div class="step-icon">
                            <i class="fas fa-sliders-h"></i>
                        </div>
                        <div class="step-number">2</div>
                        <div class="step-title">Enter Job Preferences</div>
                        <div class="step-description">Specify your desired job location and type to find relevant opportunities.</div>
                    </div>
                    <div class="step-card">
                        <div class="step-icon">
                            <i class="fas fa-magic"></i>
                        </div>
                        <div class="step-number">3</div>
                        <div class="step-title">Get Matched</div>
                        <div class="step-description">Our AI analyzes your CV and matches you with the most suitable job opportunities.</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Job Matching Form Section -->
        <section class="job-matching-section" id="matchForm">
            <div class="container">
                <div class="form-container">
                    <h2 class="section-title">Find Your Job Match</h2>
                    <form id="matchForm">
                        <!-- Trial Notice -->
                        <!-- <div class="trial-notice">
                            <i class="fas fa-info-circle"></i>
                            <strong>Trial Version Notice:</strong> You get one free try every 30 minutes. Make it count! 
                            For unlimited access and advanced features, consider our premium version.
                        </div> -->

                        <!-- Error Message -->
                        <div class="error-message" id="errorMessage">
                            <i class="fas fa-exclamation-circle"></i>
                            <strong>Rate Limit Exceeded:</strong> 
                            <span id="nextTryTime"></span>
                        </div>

                        <div class="form-group-row">
                            <div class="form-group">
                                <label for="query">
                                    <i class="fas fa-search"></i> Job Search Query:
                                </label>
                                <input type="text" id="query" name="query" placeholder="e.g., marketing expert" value="">
                            </div>
                            
                            <div class="form-group">
                                <label for="location">
                                    <i class="fas fa-map-marker-alt"></i> Location: <span class="required">*</span>
                                </label>
                                <input type="text" id="location" name="location" placeholder="e.g., Paris, London, New York" value="" required>
                            </div>
                        </div>
                        
                        <!-- Toggle for Additional Filters -->
                        <div class="filters-toggle-container">
                            <label class="filters-toggle-label" for="filtersToggle">
                                <i class="fas fa-filter"></i> Additional Filters
                                <div class="toggle-switch">
                                    <input type="checkbox" id="filtersToggle" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </div>
                            </label>
                        </div>
                        
                        <!-- Additional Filters -->
                        <div class="filters-section" id="filtersSection" style="display: none;">
                            <h4 class="filters-title">
                                <i class="fas fa-filter"></i> Additional Filters (Optional)
                            </h4>
                            
                            <div class="form-group-row">
                                <div class="form-group">
                                    <label for="date_posted">
                                        <i class="fas fa-calendar-alt"></i> Date Posted:
                                    </label>
                                    <select id="date_posted" name="date_posted">
                                        <option value="">Any time</option>
                                        <option value="today">Today</option>
                                        <option value="3days">Last 3 days</option>
                                        <option value="week">Last week</option>
                                        <option value="month">Last month</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="work_from_home">
                                        <i class="fas fa-home"></i> Work From Home:
                                    </label>
                                    <select id="work_from_home" name="work_from_home">
                                        <option value="">Any</option>
                                        <option value="true">Remote only</option>
                                        <option value="false">On-site only</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group-row">
                                <div class="form-group">
                                    <label for="job_requirements">
                                        <i class="fas fa-graduation-cap"></i> Job Requirements:
                                    </label>
                                    <select id="job_requirements" name="job_requirements">
                                        <option value="">Any requirements</option>
                                        <option value="under_3_years_experience">Under 3 years experience</option>
                                        <option value="more_than_3_years_experience">More than 3 years experience</option>
                                        <option value="no_experience">No experience required</option>
                                        <option value="no_degree">No degree required</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="employment_types">
                                        <i class="fas fa-briefcase"></i> Employment Type:
                                    </label>
                                    <select id="employment_types" name="employment_types">
                                        <option value="">Any type</option>
                                        <option value="FULLTIME">Full-time</option>
                                        <option value="PARTTIME">Part-time</option>
                                        <option value="CONTRACTOR">Contractor</option>
                                        <option value="INTERN">Intern</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- CV Input Method Toggle -->
                        <div class="input-toggle">
                            <div class="input-toggle-option active" data-target="pdf-section">
                                <i class="fas fa-file-pdf"></i> Upload PDF
                            </div>
                            <div class="input-toggle-option" data-target="text-section">
                                <i class="fas fa-font"></i> Enter Text
                            </div>
                        </div>
                        
                        <!-- PDF Upload Section -->
                        <div id="pdf-section" class="cv-input-section active">
                            <label for="pdfFileInput">
                                <i class="fas fa-upload"></i> Upload Your CV as PDF:
                            </label>
                            <div id="pdfUploadZone" class="pdf-upload-zone">
                                <div class="pdf-upload-icon">
                                    <i class="fas fa-file-pdf"></i>
                                </div>
                                <p>Drag & drop your PDF here or click to browse</p>
                                <div id="pdfFilename" class="pdf-filename"></div>
                                <input type="file" id="pdfFileInput" accept="application/pdf">
                            </div>
                        </div>
                        
                        <!-- Text Input Section -->
                        <div id="text-section" class="cv-input-section">
                            <label for="cvText">
                                <i class="fas fa-font"></i> Your CV Text:
                            </label>
                            <textarea id="cvText" name="cvText" placeholder="Paste your CV text here..."></textarea>
                        </div>
                        
                        <button type="submit" class="submit-button">
                            <i class="fas fa-search"></i> Find Job Matches
                        </button>
                    </form>
                </div>
                
                <div class="results-container">
                    <div id="loading" class="loading">
                        <div class="loading-icon">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                        <h2>Analyzing your CV and finding matches...</h2>
                        <p>This process may take a minute. We're analyzing your skills and finding the best job matches.</p>
                        
                        <!-- Skeleton loading animation -->
                        <div class="skeleton-card">
                            <div class="skeleton-line skeleton-title"></div>
                            <div class="skeleton-line skeleton-company"></div>
                            <div class="skeleton-line skeleton-score"></div>
                            <div class="skeleton-line skeleton-text medium"></div>
                            <div class="skeleton-line skeleton-text long"></div>
                            <div class="skeleton-line skeleton-text short"></div>
                        </div>
                        <div class="skeleton-card">
                            <div class="skeleton-line skeleton-title"></div>
                            <div class="skeleton-line skeleton-company"></div>
                            <div class="skeleton-line skeleton-score"></div>
                            <div class="skeleton-line skeleton-text long"></div>
                            <div class="skeleton-line skeleton-text medium"></div>
                            <div class="skeleton-line skeleton-text short"></div>
                        </div>
                        <div class="skeleton-card">
                            <div class="skeleton-line skeleton-title"></div>
                            <div class="skeleton-line skeleton-company"></div>
                            <div class="skeleton-line skeleton-score"></div>
                            <div class="skeleton-line skeleton-text short"></div>
                            <div class="skeleton-line skeleton-text long"></div>
                            <div class="skeleton-line skeleton-text medium"></div>
                        </div>
                    </div>
                    
                    <div id="results" class="results">
                        <div class="info-section" style="display: none;">
                            <h3><i class="fas fa-chart-bar"></i> Job Matching Results</h3>
                            <p>We've analyzed your CV and found the best matching jobs based on your skills and experience.</p>
                            <button id="toggleCvAnalysis" class="toggle-cv-analysis">
                                <i class="fas fa-eye"></i> Show CV Analysis Details
                            </button>
                        </div>
                        
                        <!-- <div id="cvAnalysis" class="cv-analysis">
                            <h3><i class="fas fa-file-alt"></i> CV Analysis</h3>
                            <div id="cvAnalysisResults"></div>
                        </div> -->
                        
                        <h3><i class="fas fa-briefcase"></i> Top Job Matches</h3>
                        <div id="jobMatchesResults">
                            <!-- Initial state message -->
                            <div class="initial-state-message">
                                <div class="message-icon">
                                    <i class="fas fa-file-upload"></i>
                                </div>
                                <h3>Ready to Find Your Perfect Job Match?</h3>
                                <p>Upload your CV and enter a job search query on the left to get started. We'll analyze your CV and match you with the most relevant job opportunities.</p>
                                <div class="features-list">
                                    <div class="feature">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Instant CV Analysis</span>
                                    </div>
                                    <div class="feature">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Skills Matching</span>
                                    </div>
                                    <div class="feature">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Personalized Job Recommendations</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

          <!-- CV Recommendations Section -->
          <section class="cv-recommendations-section" id="cv-recommendations">
            <div class="recommendations-container">
                <h2 class="section-title">CV Recommendations</h2>
                <p class="section-subtitle">Improve your CV with these expert tips to increase your chances of landing interviews -- personalized tips are available in the premium version</p>
                
                <div class="recommendations-grid">
                    <div class="recommendation-card">
                        <div class="recommendation-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3>Format & Structure</h3>
                        <ul>
                            <li>Use a clean, professional layout</li>
                            <li>Include a compelling summary</li>
                            <li>Highlight achievements with metrics</li>
                            <li>Keep it concise (1-2 pages)</li>
                        </ul>
                    </div>
                    
                    <div class="recommendation-card">
                        <div class="recommendation-icon">
                            <i class="fas fa-key"></i>
                        </div>
                        <h3>Keywords & Skills</h3>
                        <ul>
                            <li>Include industry-specific keywords</li>
                            <li>List relevant technical skills</li>
                            <li>Mention soft skills with examples</li>
                            <li>Tailor skills to job descriptions</li>
                        </ul>
                    </div>
                    
                    <div class="recommendation-card">
                        <div class="recommendation-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <h3>Content Quality</h3>
                        <ul>
                            <li>Focus on achievements, not duties</li>
                            <li>Use action verbs to start sentences</li>
                            <li>Quantify results where possible</li>
                            <li>Proofread for errors</li>
                        </ul>
                    </div>
                    
                    <div class="recommendation-card">
                        <div class="recommendation-icon">
                            <i class="fas fa-plus-circle"></i>
                        </div>
                        <h3>Additional Tips</h3>
                        <ul>
                            <li>Include a professional photo</li>
                            <li>Add relevant certifications</li>
                            <li>Link to your portfolio/LinkedIn</li>
                            <li>Update regularly</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-logo">
                <i class="fas fa-file-alt"></i> CVMatch
            </div>
            <div class="footer-links">
                <a href="#how-it-works">How It Works</a>
                <a href="#cv-recommendations">CV Tips</a>
                <a href="#about">About</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
            <div class="footer-social">
                <a href="https://www.facebook.com/zinou.med.35/"><i class="fab fa-twitter"></i></a>
                <a href="https://www.linkedin.com/in/feddag-mohammed-zineddine-879861187/"><i class="fab fa-linkedin"></i></a>
                <a href="https://www.linkedin.com/in/feddag-mohammed-zineddine-879861187/"><i class="fab fa-facebook"></i></a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 CVMatch. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/sass.js"></script>
</body>
</html>